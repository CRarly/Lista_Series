<!DOCTYPE html> <html lang="pt-BR"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Controle de Séries, Filmes e Outros</title> <link rel="manifest" href="manifest.json"> <style> body { font-family: Arial, sans-serif; background-color: #f9f9f9; padding: 20px; margin: 0; } h1 { text-align: center; } .container { max-width: 800px; margin: auto; background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); } .form-group { display: flex; flex-direction: coluna; margem inferior: 10px; } .form-group label { font-weight: negrito; } .form-group select, .form-group input { width: 100%; preenchimento: 10px; borda: 1px sólido #ccc; raio da borda: 5px; tamanho da caixa: caixa da borda; } .button-group { display: flex; flex-wrap: envolver; lacuna: 10px; margem superior: 10px; } .button-group button { flex: 1; preenchimento: 12px; cursor: ponteiro; cor de fundo: #4CAF50; cor: branco; borda: nenhum; raio da borda: 5px; tamanho da fonte: 16px; transição: cor de fundo 0,3s facilidade; } .button-group button: pairar { cor de fundo: #45a049; } tabela { width: 100%; border-collapse: collapse; margin-top: 20px; } th, td { border: 1px solid #ddd; padding: 10px; text-align: center; } th { background-color: #4CAF50; color: white; } .finalizado { background-color: #d4edda; } </style> </head> <body> <div class="container"> <h1>Gerenciador de Séries, Filmes e Outros</h1> <div class="form-group"> <label for="category">Categoria:</label> <select id="category"> <option value="Série">Série</option> <option value="Filme">Filme</option> <option value="Anime">Anime</option> <option value="Dorama">Dorama</option> <option value="Desenho">Desenho</option> </select> </div> <div class="form-group"> <label for="name">Nome:</label> <input type="text" id="name" placeholder="Digite o nome" required> </div> <div class="form-group"> <label for="season">Temporada:</label> <input type="number" id="season" min="1" placeholder="Número da temporada"> </div> <div class="form-group"> <label for="episode">Episódio Assistido:</label> <input type="number" id="episode" min="1" placeholder="Número do episódio"> </div> <div class="form-group"> <label for="status">Status:</label> <select id="status"> <option value="Não finalizado">Não finalizado</option> <option value="Finalizado">Finalizado</option> </select> </div> <div class="button-group"> <button onclick="addSeries()">Adicionar/Atualizar</button> <button onclick="loadFromGitHub()">Carregar do GitHub</button> <button onclick="saveToGitHub()">Salvar no GitHub</button> </div> <table id="seriesTable"> <thead> <tr> <th>Categoria</th> <th>Nome</th> <th>Temporada</th> <th>Episódio</th> <th>Status</th> <th>Dados</th> <th>Ações</th> </tr> </thead> <tbody></tbody> </table> </div> <script> const proprietário = 'CRarly'; // Substitua seu usuário do GitHub const repo = 'Forms'; // Nome do seu repositório const path = 'lista_de_serie.json'; // Nome do arquivo no GitHub const token = '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'; // Substitua seu token de acesso do GitHub const apiUrl =https://api.github.com/repos/${owner}/${repo}/contents/${path}; const seriesList = JSON.parse(localStorage.getItem('seriesList')) || {}; function saveData() { localStorage.setItem('seriesList', JSON.stringify(seriesList)); displaySeries(); } function addSeries() { const category = document.getElementById('category').value; const name = document.getElementById('name').value.trim(); const season = document.getElementById('season').value || '-'; const episode = document.getElementById('episode').value || '-'; const status = document.getElementById('status').value; const date = new Date().toLocaleString(); if (!name) { alert('Por favor, investigue o nome!'); return; } if (!seriesList[categoria]) seriesList[categoria] = {}; seriesList[categoria][nome] = { temporada, episódio, status, data }; saveData(); document.getElementById('nome').value = ''; document.getElementById('temporada').value = ''; document.getElementById('episódio').value = ''; document.getElementById('status').value = 'Não finalizado'; } function displaySeries() { const tableBody = document.querySelector('#seriesTable tbody'); tableBody.innerHTML = ''; for (const categoria em seriesList) { for (const nome em seriesList[categoria]) { const { temporada, episódio, status, data } = seriesList[categoria][nome]; tableBody.innerHTML += 
                        <tr class="${status === 'Finalizado' ? 'finalizado' : ''}"> <td>${category}</td> <td>${name}</td> <td>${season}</td> <td>${episode}</td> <td>${status}</td> <td>${date}</td> <td> <button onclick="toggleStatus('${category}', '${name}')">Alterar Status</button> <button onclick="removeSeries('${category}', '${name}')">Remover</button> </td> </tr>
                     ;
                } } } function toggleStatus(category, name) { seriesList[category][name].status = seriesList[category][name].status === 'Finalizado' ? 'Não finalizado' :'Finalizado'; seriesList[categoria][nome].date = new Date().toLocaleString(); saveData(); } function removeSeries(categoria, nome) { if (confirm(Deseja remover '${name}' da categoria '${category}'?)) { delete seriesList[categoria][nome]; if (Object.keys(seriesList[categoria]).length === 0) delete seriesList[categoria]; saveData(); } } async function loadFromGitHub() { try { const response = await fetch(apiUrl, { headers: { 'Accept': 'application/vnd.github.v3.raw' } }); if (!response.ok) throw new Error('Erro ao carregar arquivo do GitHub'); const data = await response.json(); Object.assign(seriesList, data); saveData(); alert('Lista de carregamento do GitHub!'); } catch (error) { console.error('Erro ao carregar:', error); alert('Erro ao carregar a lista do GitHub.'); } } async function saveToGitHub() { try { const getResponse = await fetch(apiUrl, { headers: { Authorization: token ${token}} }); const { sha } = await getResponse.ok ? await getResponse.json() : { sha: null }; const content = btoa(unescape(encodeURIComponent(JSON.stringify(seriesList, null, 4)))); const payload = { message: 'Atualizando lista_de_serie.json', content: content, sha: sha }; const response = await fetch(apiUrl, { method: 'PUT', headers: { Authorization: token ${token}, 'Content-Type': 'application/json' }, body: JSON.stringify(payload) }); if (response.ok) { alert('Lista salva no GitHub com sucesso!'); } else { throw new Error('Falha ao salvar.'); } } catch (error) { console.error('Erro ao salvar:', erro); alert('Erro ao salvar no GitHub. Verifique as permissões e o token.'); } } displaySeries(); </script> </body> </html>
